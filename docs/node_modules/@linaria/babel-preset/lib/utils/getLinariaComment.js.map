{"version":3,"file":"getLinariaComment.js","names":["pattern","getLinariaComment","path","remove","comments","node","leadingComments","idx","findIndex","comment","test","value","matched","match","filter","_","i","type","split","map"],"sources":["../../src/utils/getLinariaComment.ts"],"sourcesContent":["import type { Node } from '@babel/types';\n\nconst pattern = /^linaria (atomic-css|css|styled) (.+)$/;\n\nexport default function getLinariaComment(\n  path: { node: Node },\n  remove = true\n): ['css' | 'atomic-css' | 'styled' | null, ...(string | null)[]] {\n  const comments = path.node.leadingComments;\n  if (!comments) {\n    return [null, null, null, null];\n  }\n\n  const idx = comments.findIndex((comment) => pattern.test(comment.value));\n  if (idx === -1) {\n    return [null, null, null, null];\n  }\n\n  const matched = comments[idx].value.match(pattern);\n  if (!matched) {\n    return [null, null, null, null];\n  }\n\n  if (remove) {\n    // eslint-disable-next-line no-param-reassign\n    path.node.leadingComments = comments.filter((_, i) => i !== idx);\n  }\n\n  let type: 'css' | 'atomic-css' | 'styled' = 'styled';\n  if (matched[1] === 'css') {\n    type = 'css';\n  } else if (matched[1] === 'atomic-css') {\n    type = 'atomic-css';\n  }\n  return [type, ...matched[2].split(' ').map((i) => i || null)];\n}\n"],"mappings":";;;;;;AAEA,MAAMA,OAAO,GAAG,wCAAwC;AAEzC,SAASC,iBAAiB,CACvCC,IAAoB,EACpBC,MAAM,GAAG,IAAI,EACmD;EAChE,MAAMC,QAAQ,GAAGF,IAAI,CAACG,IAAI,CAACC,eAAe;EAC1C,IAAI,CAACF,QAAQ,EAAE;IACb,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;EACjC;EAEA,MAAMG,GAAG,GAAGH,QAAQ,CAACI,SAAS,CAAEC,OAAO,IAAKT,OAAO,CAACU,IAAI,CAACD,OAAO,CAACE,KAAK,CAAC,CAAC;EACxE,IAAIJ,GAAG,KAAK,CAAC,CAAC,EAAE;IACd,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;EACjC;EAEA,MAAMK,OAAO,GAAGR,QAAQ,CAACG,GAAG,CAAC,CAACI,KAAK,CAACE,KAAK,CAACb,OAAO,CAAC;EAClD,IAAI,CAACY,OAAO,EAAE;IACZ,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;EACjC;EAEA,IAAIT,MAAM,EAAE;IACV;IACAD,IAAI,CAACG,IAAI,CAACC,eAAe,GAAGF,QAAQ,CAACU,MAAM,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,KAAKT,GAAG,CAAC;EAClE;EAEA,IAAIU,IAAqC,GAAG,QAAQ;EACpD,IAAIL,OAAO,CAAC,CAAC,CAAC,KAAK,KAAK,EAAE;IACxBK,IAAI,GAAG,KAAK;EACd,CAAC,MAAM,IAAIL,OAAO,CAAC,CAAC,CAAC,KAAK,YAAY,EAAE;IACtCK,IAAI,GAAG,YAAY;EACrB;EACA,OAAO,CAACA,IAAI,EAAE,GAAGL,OAAO,CAAC,CAAC,CAAC,CAACM,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAAEH,CAAC,IAAKA,CAAC,IAAI,IAAI,CAAC,CAAC;AAC/D"}