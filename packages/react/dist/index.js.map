{"version":3,"file":"index.js","sources":["../../common/src/index.js","../../../node_modules/style-inject/dist/style-inject.es.js","../src/index.tsx"],"sourcesContent":["export default class CommonTurntable {\n  constructor(data) {\n      this.width = data.width;\n      this.options = data.options;\n      this.rotateDeg = 360 / (data.options === null || data.options === void 0 ? void 0 : data.options.length);\n      this.degs = {\n          before: 0,\n          after: 360 / (data.options === null || data.options === void 0 ? void 0 : data.options.length) / 2,\n      };\n  }\n\n  getTurntableStyle(index, turnResIndex) {\n      const deg = -(this.rotateDeg / 2) + this.rotateDeg * index;\n      const isSelected = index === turnResIndex;\n      const sectorStyle = {\n          transform: `rotate(${deg}deg)`,\n          left: `${this.width / 2}px`,\n          width: `${this.width / 2}px`,\n          height: `${this.width}px`,\n          borderRadius: `0px ${this.width / 2}px ${this.width / 2}px 0`,\n      };\n      const initBackground = 'rgba(255, 255, 255, 0.3)'\n      const initSelectBackground = `linear-gradient(${90 + (this.options === null || this.options === void 0 ? void 0 : this.options.length - 2) * 17.5}deg, #FF5555 30.13%, #FFACAC 60.21%)`\n      \n      const innerStyle = {\n          transform: `translateX(-${this.width / 2}px) rotate(${this.rotateDeg}deg)`,\n          height: `${this.width}px`,\n          width: `${this.width /2}px`,\n          borderRadius: `${this.width / 2}px 0 0 ${this.width / 2}px`,\n          background: isSelected\n              ? this.options?.[index]?.selectedColor || initSelectBackground\n              : this.options?.[index]?.backgroundColor || initBackground\n      };\n      const spanStyle = {\n          transform: `rotate(-${this.rotateDeg / 2}deg) translateX(${this.width / 4}px)`,\n          height: `${this.width}px`,\n          transformOrigin: 'right center',\n          display: 'flex',\n          justifyContent: 'center',\n      };\n      return { sectorStyle, innerStyle, spanStyle };\n  }\n  play() {\n      const randomDegs = Math.round(Math.random() * 360) + this.degs.after;\n      // 要转多少度deg\n      const newRunDegs = randomDegs + 360 * 4;\n      const resIndex = this.options === null || this.options === void 0 ? void 0 : this.options.length - Math.round((randomDegs% 360) / (360 / (this.options === null || this.options === void 0 ? void 0 : this.options.length)));\n      this.degs = {\n          before: this.degs.after,\n          after: newRunDegs,\n      };\n      const data = resIndex === (this.options === null || this.options === void 0 ? void 0 : this.options.length) ? 0 : resIndex;\n      return { data, newRunDegs };\n  }\n}\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n",null],"names":[],"mappings":"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"}